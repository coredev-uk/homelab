apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
  name: pihole-real-ip
  namespace: dns
spec:
  forwardAuth:
    trustForwardHeader: true
---
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
  name: pihole-headers
  namespace: dns
spec:
  headers:
    customRequestHeaders:
      X-Real-IP: ""
      X-Forwarded-For: ""
    customResponseHeaders:
      X-Frame-Options: "SAMEORIGIN"
      X-Content-Type-Options: "nosniff"