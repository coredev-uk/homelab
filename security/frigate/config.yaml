mqtt:
  enabled: false

# Edge TPU Detector Configuration
detectors:
  coral:
    type: edgetpu
    device: pci

# telemetry enabled for prometheus
telemetry:
  stats:
    network_bandwidth: true

# Go2RTC configuration for stream management
go2rtc:
  streams:
    front_door_main:
      - rtsp://{FRIGATE_RTSP_USER}:{FRIGATE_RTSP_PASSWORD}@192.168.20.5:554/stream0
    front_door_sub:
      - rtsp://{FRIGATE_RTSP_USER}:{FRIGATE_RTSP_PASSWORD}@192.168.20.5:554/stream1
    back_door_main:
      - rtsp://{FRIGATE_RTSP_USER}:{FRIGATE_RTSP_PASSWORD}@192.168.20.6:554/11
    back_door_sub:
      - rtsp://{FRIGATE_RTSP_USER}:{FRIGATE_RTSP_PASSWORD}@192.168.20.6:554/12
    back_garden_main:
      - rtsp://{FRIGATE_RTSP_USER}:{FRIGATE_RTSP_PASSWORD}@192.168.20.7:554/11
    back_garden_sub:
      - rtsp://{FRIGATE_RTSP_USER}:{FRIGATE_RTSP_PASSWORD}@192.168.20.7:554/12

# Camera groups for unified viewing
camera_groups:
  home:
    cameras:
      - front_door
      - back_door
      - back_garden
    icon: LuWebcam
    order: 0

notifications:
  enabled: true
  email: admin@coredev.uk

auth:
  enabled: true

tls:
  enabled: true

objects:
  track:
    - person
    - car
    - dog
    - cat
  filters:
    person:
      min_score: 0.5
      threshold: 0.8
      min_area: 5000
      max_area: 100000
    car:
      min_score: 0.6
      threshold: 0.85
      min_area: 15000
      max_area: 100000
    dog:
      min_score: 0.4
      threshold: 0.75
      min_area: 3000
      max_area: 50000
    cat:
      min_score: 0.4
      threshold: 0.75
      min_area: 1500
      max_area: 25000

detect:
  enabled: true

semantic_search:
  enabled: true
  model_size: small

face_recognition:
  enabled: true
  model_size: small

lpr:
  enabled: true
  min_plate_length: 4

classification:
  bird:
    enabled: false

record:
  enabled: true
  retain:
    days: 2 # was 7
    mode: motion
  alerts:
    retain:
      days: 7 # was 30
      mode: active_objects
  detections:
    retain:
      days: 7 # was 30
      mode: active_objects

snapshots:
  enabled: true
  timestamp: false
  bounding_box: true
  retain:
    default: 10 # was 30

motion:
  threshold: 30
  contour_area: 10
  lightning_threshold: 0.8
  improve_contrast: true

cameras:
  front_door:
    enabled: true
    webui_url: http://192.168.20.5:8080
    ffmpeg:
      inputs:
        - path: rtsp://{FRIGATE_RTSP_USER}:{FRIGATE_RTSP_PASSWORD}@192.168.20.5:554/stream0
          roles:
            - record
            - audio
        - path: rtsp://{FRIGATE_RTSP_USER}:{FRIGATE_RTSP_PASSWORD}@192.168.20.5:554/stream1
          roles:
            - detect
    live:
      streams:
        Main Stream: front_door_main # Higher quality stream (stream0)
        Sub Stream: front_door_sub # Lower quality stream (stream1)
    detect:
      enabled: true
    record:
      enabled: true
    snapshots:
      enabled: true
    objects:
      track:
        - person
        - car
      filters:
        person:
          min_area: 5000
          max_area: 100000
          threshold: 0.8
        car:
          min_area: 15000
          max_area: 100000
          threshold: 0.85
    zones:
      entrance:
        coordinates: 0.874,0.403,0.958,0.401,0.854,0.886,0.635,0.909
        objects:
          - person
        loitering_time: 10
      driveway:
        coordinates: 0.65,0.139,0.941,0.244,0.946,0.388,0.81,0.309,0.569,0.199
        objects:
          - car
          - person
    motion:
      mask:
        - 0,0,200,0,200,50,0,50
    review:
      alerts:
        required_zones:
          - entrance
          - driveway

    notifications:
      enabled: true
  back_door:
    enabled: true
    webui_url: http://192.168.20.6
    ffmpeg:
      inputs:
        - path: rtsp://{FRIGATE_RTSP_USER}:{FRIGATE_RTSP_PASSWORD}@192.168.20.6:554/11
          roles:
            - record
        - path: rtsp://{FRIGATE_RTSP_USER}:{FRIGATE_RTSP_PASSWORD}@192.168.20.6:554/12
          roles:
            - detect
    live:
      streams:
        Main Stream: back_door_main # Higher quality stream (11)
        Sub Stream: back_door_sub # Lower quality stream (12) - used for detection
    onvif:
      host: 192.168.20.6
      port: 8080
      user: "{FRIGATE_RTSP_USER}"
      password: "{FRIGATE_RTSP_PASSWORD}"
      autotracking:
        enabled: false
    detect:
      enabled: true
    record:
      enabled: true
    snapshots:
      enabled: true
    objects:
      track:
        - person
        - car
      filters:
        person:
          min_area: 5000
          max_area: 100000
          threshold: 0.8
        car:
          min_area: 15000
          max_area: 100000
          threshold: 0.85
    zones:
      back_entrance:
        coordinates: 0.297,0.538,0.344,0.549,0.44,0.584,0.433,0.654,0.411,0.698,0.373,0.761,0.325,0.82,0.242,0.826,0.189,0.814,0.184,0.74,0.194,0.655,0.203,0.621,0.216,0.535
        objects:
          - person
      back_driveway:
        coordinates: 0.3,0.476,0.642,0.43,0.566,0.339,0.531,0.296,0.521,0.281,0.493,0.261,0.46,0.233,0.438,0.201,0.439,0.179,0.401,0.187,0.384,0.203,0.384,0.25,0.34,0.267,0.312,0.265,0.289,0.27,0.288,0.325
        objects:
          - car
          - person
    review:
      alerts:
        required_zones:
          - back_entrance
          - back_driveway
      detections:
        required_zones:
          - back_entrance
          - back_driveway

    notifications:
      enabled: true
  back_garden:
    enabled: false
    webui_url: http://192.168.20.7
    ffmpeg:
      inputs:
        - path: rtsp://{FRIGATE_RTSP_USER}:{FRIGATE_RTSP_PASSWORD}@192.168.20.7:554/11
          roles:
            - record
            - audio
        - path: rtsp://{FRIGATE_RTSP_USER}:{FRIGATE_RTSP_PASSWORD}@192.168.20.7:554/12
          roles:
            - detect
    live:
      streams:
        Main Stream: back_garden_main # Higher quality stream (11)
        Sub Stream: back_garden_sub # Lower quality stream (12) - used for detection
    onvif:
      host: 192.168.20.7
      port: 8080
      user: "{FRIGATE_RTSP_USER}"
      password: "{FRIGATE_RTSP_PASSWORD}"
      autotracking:
        enabled: true
        calibrate_on_startup: true
        timeout: 30
        required_zones:
          - garden_main
    lpr:
      enabled: false
    detect:
      enabled: true
    record:
      enabled: true
    snapshots:
      enabled: true
    objects:
      track:
        - person
        - dog
        - cat
      filters:
        person:
          min_area: 5000
          max_area: 100000
          threshold: 0.8
        dog:
          min_area: 3000
          max_area: 50000
          threshold: 0.75
        cat:
          min_area: 1500
          max_area: 25000
          threshold: 0.75
    zones:
      garden_main:
        coordinates: 0.57,0.469,0.003,0.665,0.001,0.994,0.156,0.998,0.192,0.991,0.902,1,0.927,0.731,0.924,0.652,0.928,0.581,0.92,0.548,0.898,0.536,0.895,0.508,0.876,0.469,0.848,0.454,0.803,0.459,0.777,0.505,0.766,0.498
        objects:
          - person
          - dog
          - cat
    motion:
      mask:
        - 0,0,0,0,0,0,0,0
    review:
      alerts:
        required_zones:
          - garden_main
      detections:
        required_zones:
          - garden_main

    notifications:
      enabled: true

version: 0.16-0
